================================================================================
Prompt Tuning for LLM Happiness Survey
================================================================================
Using best hyperparameters: Temperature=0.0, CoT=False
================================================================================

Loading countries...
Found 168 total countries

Selected 10 random countries for testing:
  1. Bulgaria
  2. North Macedonia
  3. Tanzania
  4. Pakistan
  5. Saudi Arabia
  6. Montenegro
  7. Uruguay
  8. Mauritius
  9. Spain
  10. Niger

Loading real World Happiness Report data...
Loaded real data for 147 countries

Loading personas...
Found 20 personas

================================================================================
Testing Prompt Variations
================================================================================

--------------------------------------------------------------------------------
Variation 1/7
--------------------------------------------------------------------------------

    Testing: Current/Baseline
      Country 1/10: Bulgaria
      Country 2/10: North Macedonia
      Country 3/10: Tanzania
      Country 4/10: Pakistan
      Country 5/10: Saudi Arabia
      Country 6/10: Montenegro
      Country 7/10: Uruguay
      Country 8/10: Mauritius
      Country 9/10: Spain
      Country 10/10: Niger

    Calculating comparison metrics...
    Mean MAE: 4.306
    Mean RMSE: 4.352
    Mean Correlation: 0.469
    Combined Score: 0.039
    Valid Response Rate: 100.00%

--------------------------------------------------------------------------------
Variation 2/7
--------------------------------------------------------------------------------

    Testing: Simplified
      Country 1/10: Bulgaria
      Country 2/10: North Macedonia
      Country 3/10: Tanzania
      Country 4/10: Pakistan
      Country 5/10: Saudi Arabia
      Country 6/10: Montenegro
      Country 7/10: Uruguay
      Country 8/10: Mauritius
      Country 9/10: Spain
      Country 10/10: Niger

    Calculating comparison metrics...
    Mean MAE: 4.531
    Mean RMSE: 4.580
    Mean Correlation: 0.528
    Combined Score: 0.075
    Valid Response Rate: 100.00%

--------------------------------------------------------------------------------
Variation 3/7
--------------------------------------------------------------------------------

    Testing: Concise Persona
      Country 1/10: Bulgaria
      Country 2/10: North Macedonia
      Country 3/10: Tanzania
      Country 4/10: Pakistan
      Country 5/10: Saudi Arabia
      Country 6/10: Montenegro
      Country 7/10: Uruguay
      Country 8/10: Mauritius
      Country 9/10: Spain
      Country 10/10: Niger

    Calculating comparison metrics...
    Mean MAE: 4.498
    Mean RMSE: 4.546
    Mean Correlation: 0.492
    Combined Score: 0.043
    Valid Response Rate: 100.00%

--------------------------------------------------------------------------------
Variation 4/7
--------------------------------------------------------------------------------

    Testing: JSON Format
      Country 1/10: Bulgaria
      Country 2/10: North Macedonia
      Country 3/10: Tanzania
      Country 4/10: Pakistan
      Country 5/10: Saudi Arabia
      Country 6/10: Montenegro
      Country 7/10: Uruguay
      Country 8/10: Mauritius
      Country 9/10: Spain
      Country 10/10: Niger

    Calculating comparison metrics...
    Mean MAE: 4.524
    Mean RMSE: 4.562
    Mean Correlation: 0.387
    Combined Score: -0.065
    Valid Response Rate: 100.00%

--------------------------------------------------------------------------------
Variation 5/7
--------------------------------------------------------------------------------

    Testing: Few-shot Examples
      Country 1/10: Bulgaria
      Country 2/10: North Macedonia
      Country 3/10: Tanzania
      Country 4/10: Pakistan
      Country 5/10: Saudi Arabia
      Country 6/10: Montenegro
      Country 7/10: Uruguay
      Country 8/10: Mauritius
      Country 9/10: Spain
      Country 10/10: Niger

    Calculating comparison metrics...
    Mean MAE: 4.643
    Mean RMSE: 4.687
    Mean Correlation: 0.493
    Combined Score: 0.028
    Valid Response Rate: 100.00%

--------------------------------------------------------------------------------
Variation 6/7
--------------------------------------------------------------------------------

    Testing: Explicit Context
      Country 1/10: Bulgaria
      Country 2/10: North Macedonia
      Country 3/10: Tanzania
      Country 4/10: Pakistan
      Country 5/10: Saudi Arabia
      Country 6/10: Montenegro
      Country 7/10: Uruguay
      Country 8/10: Mauritius
      Country 9/10: Spain
      Country 10/10: Niger

    Calculating comparison metrics...
    Mean MAE: 4.533
    Mean RMSE: 4.580
    Mean Correlation: 0.487
    Combined Score: 0.034
    Valid Response Rate: 100.00%

--------------------------------------------------------------------------------
Variation 7/7
--------------------------------------------------------------------------------

    Testing: Step-by-step
      Country 1/10: Bulgaria
      Country 2/10: North Macedonia
      Country 3/10: Tanzania
      Country 4/10: Pakistan
      Country 5/10: Saudi Arabia
      Country 6/10: Montenegro
      Country 7/10: Uruguay
      Country 8/10: Mauritius
      Country 9/10: Spain
      Country 10/10: Niger

    Calculating comparison metrics...
    Mean MAE: 4.534
    Mean RMSE: 4.578
    Mean Correlation: 0.494
    Combined Score: 0.040
    Valid Response Rate: 100.00%

================================================================================
Results Summary
================================================================================

Prompt Comparison (sorted by Combined Score):
      prompt_name  mean_mae  mean_rmse  mean_correlation  combined_score  valid_response_rate  num_countries
       Simplified  4.530514   4.579753          0.527993        0.074941                  1.0             10
  Concise Persona  4.498371   4.545642          0.492430        0.042593                  1.0             10
     Step-by-step  4.534086   4.578110          0.493582        0.040173                  1.0             10
 Current/Baseline  4.305514   4.352374          0.469393        0.038841                  1.0             10
 Explicit Context  4.533371   4.580047          0.487377        0.034040                  1.0             10
Few-shot Examples  4.643371   4.687077          0.492558        0.028221                  1.0             10
      JSON Format  4.524086   4.561809          0.387131       -0.065277                  1.0             10

================================================================================
BEST PROMPT:
================================================================================
Name: Simplified
Key: simplified
Description: Short, concise version with minimal instructions

Performance Metrics:
  Mean MAE: 4.531
  Mean RMSE: 4.580
  Mean Correlation: 0.528
  Combined Score: 0.075
  Valid Response Rate: 100.00%
  Number of Countries: 10

Detailed results saved to: results/prompt_tuning_results_20260119_173621.csv
Metrics summary saved to: results/prompt_tuning_metrics_20260119_173621.csv
Summary report saved to: results/prompt_tuning_report_20260119_173621.txt

Detailed logs saved to: results/prompt_tuning_logs_20260119_173621.txt

================================================================================
Prompt Tuning Complete!
================================================================================